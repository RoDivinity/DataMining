---
title: "Homework 1"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Exercise 1
## Problem

An Austin real-estate developer is interested in the possible economic impact of "going green" in her latest project: 
a new <b> 15-story </b> (height) <u>mixed-use </u> (not all green, nor all non-green) building on <b> East Cesar Chavez </b> (location), just across I-35 from downtown. <b> 250,000 square feet </b> (size)
<b> expected baseline construction costs are $100 million </b> (different types of rental rate)
<b> earning rents for 30 years or more </b> (possible building age)


#Question 1 


```{r, include = FALSE}
# library initialization
library(tidyverse)
data <- read.csv("~/Downloads/greenbuildings.csv") #change link of file here to Github

#tidying the data, classify the size of property into 4 categories

data$size_class <- ifelse (data$size <= 50891, "small" , ifelse
                           (data$size <= 128838, "medium", ifelse
                             (data$size <= 294212, "large", "gigantic")))
#seperate the data based on contract type
data$payment <- ifelse(data$net == 0 , "gross contract" , "net contract")
#seperate the data based on green building type
data$green_type <- ifelse (data$green_rating == 0, 'Non-green' , 'Green')
#cut building's age to 5 year interval
data$trend <- cut(data$age, breaks = c(0 , 10, 20 , 30, 40, 50, 60 , 70 ))
```

I do not agree with the analysis given. If we look at the distribution of rent according to the size of the properties, we observe that the median rate may not vary that much. However, if we seperate the rent based on the type of contract, either gross contract or net contract, there will be discrepancies across median rental rate based on property size. I will classify the size of property based on four quartiles based on the collecting data.

```{r  , echo = FALSE , include = TRUE ,  warning = FALSE , message = TRUE, warning = TRUE }
summary(data$size)

#Median rental rate based on size and payment type
ggplot (data, aes(size_class, Rent)) + 
  geom_boxplot( aes(colour = green_type) ) +
  scale_color_manual(values = c( "green" ,  "orange") ) +
  facet_wrap(~ payment) +
  labs ( title = "Rent based on size and contract type")


```

As you can observe from the box plot, the medians rental rate between green versus non-green property for large properties ($128838 <x< 294212 \ {feet^{2}}$) do not differ much in net contracts but vary greatly in gross contracts, with green building enjoys around $3.20. Hence, the rough estimate of difference in rental rate between green and non-green building is questionable. 

The next questionable assumption is the rent will be constant throughout the life of the building. 
I will look into the median rent for an interval of every 10 years

```{r echo = FALSE , include = TRUE ,  warning = FALSE , message = TRUE, warning = TRUE}
#Median rent distribution with time of building
ggplot(data , aes(trend , Rent)) + geom_boxplot(aes( color = factor(trend) )) + 
  labs(title = "Rental rate trend",
       y = "Rent",
       x = "10 year interval") +
  theme(axis.text.x = element_text(angle = 45, vjust = 0.6))
```

Hence, forecasting the rent to stay constant throughout building's lifetime is irrelevant. Therefore, the revenue stream will not be constant, making the profit prediction after cost repcuperation is dubious. 




